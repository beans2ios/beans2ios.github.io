---
title: 유지보수
author: Kong Seonui
date: 2022-12-27
category: Portfolio
layout: post
---
진행한 유지보수 내용입니다.

상세 검색 기능 리뉴얼
-------------
- 주요 사용 기술:

Swift, ObjectiveC, UIKit

- 기능 설명:

상세검색 기능 디자인 리뉴얼 되면서 테이블뷰와 컬렉션뷰, 스택뷰와 스크롤뷰를 사용하여 검색기능을 새로 만들어주었습니다.

- 구현 방식:

왼쪽 카테고리뷰, 오른쪽 옵션뷰, 상단 선택된 옵션뷰를 분리하여 뷰마다 역할을 분리하여 코드 리펙토링 하였습니다.
기존 코드에 종속되어있던 Network를 담당하는 helper를 따로 빼주었습니다.
네트워크 생성시 의존성 주입이 가능하게 해 추후 사용한 라이브러리(Alamofire 등)등 방식이 변경될 경우도 대비하여 코드 변경 대처가 쉽도록 하였습니다.
받아온 json 데이터는 Codable을 사용하여 파싱하며 model을 관리하였습니다.
ObjectiveC에서 Swift로 개발 언어 전환도 함께 진행하였습니다.

- 느낀점:

추후 유지보수에 대해서 고민을 하게된 작업이었습니다.
변경 전 코드는 하나의 뷰 컨트롤러가 왼쪽 카테고리뷰, 오른쪽 옵션뷰, 상단 선택된 옵션뷰, Network를 모두 관리하는 구조였습니다.
때문에 종속된 부분이 많아 유지보수가 힘들고 단위 기능의 재사용이 힘들다고 생각되었습니다.
하여 뷰단위 기능에 대해서는 각 뷰마다의 모델-뷰-뷰컨트롤러를 분리하는 방식을 적용하였으며 "어떻게해야 추후 유지보수시 기능의 재사용이나 기능 추가, 기능 제거에 대한 대처가 더 쉬울까?" 생각을 해보게 되었습니다.
네트워크 또한 의존성 주입이 가능하게 해 추후 방식이 변경될 경우에 코드 변경 대처가 쉽도록 고려해보았습니다.
network-모델 간의 동작을 간결하게 하는 방식을 생각해보게 되었습니다.


재입고 알림 기능 추가
-------------
- 주요 사용 기술:

Swift, ObjectiveC, UIKit

- 기능 설명:

품절 상품에 대해서 사용자가 "재입고알림 받기"를 설정할 수 있고, 재입고 되었을 때 알림을 받아 재입고 알림 상품의 상태를 확인하거나 구매할 수 있는 기능입니다.

- 구현 방식:

앱에서 재입고 설정을 한 사용자의 정보를 서버에 전달해주고, 서버에서 푸시알림을 보내면 apns의 notification이 오면 재입고 알림 내역을 받아와서 노출해주었습니다.
재입고 알림 내역은 UITableView로 노출하였으며, 재입고 상품 추가, 삭제, 변경, 조회 등은 OpenApi를 사용하여 서버와의 통신하였습니다.
조회된 데이터는 Codable 사용하여 API로 부터 가져온 데이터를 파싱하여 model 관리하였습니다.
재입고 알림 내역 기능에 대한 부분은 Swift로 코딩하였으며, ObjectiveC로 되어있는 코드에서도 겸해서 사용할 수 있도록 구현하였습니다.

- 느낀점:

"서비스의 UX의 중요성"에 대해 새롭게 정의할 수 있는 계기가 되었습니다. 작업을 하여 앱이 현재 화면에 노출되고 있는 상태인 "active 상태에서의 푸시 알림이 오는 경우" 에 대해 고민해야 할 경우가 있었고, 앱이 실행중인 상태에서는 애플에서 제공하는 푸시 알림 배너가 노출되지 않다는 것에 대해서 놀랐습니다.
그 이유는 항상 카카오톡을 이용할때 채팅 중에 너무나 자연스러운 상단 푸시 배너가 노출되고 있어 익숙해져 있었기 때문입니다.
플랫폼이 아닌 서비스가 사용자의 UX를 변화시킬 수도 있구나라는 생각이 들었고, "내가 제공하는 서비스가 사용자들에게 영향을 줄수 있겠다"는 기대감과 책임감이 들게 되는 계기가 되었습니다.


이벤트 앱 리뉴얼
-------------
- 사용 기술: 

Swift, WebKit, UIKit

- 프로젝트 설명:

사용자들이 이벤트에 참여할 수 있도록 하는, 이벤트가 있는 경우 푸시 알림도 받을 수 있는 앱입니다.
웹 페이지를 리뉴얼하며 hybrid앱인 해당 앱도 함께 리뉴얼 하였습니다.
각 서비스 담당 개발자들과 협업하며 웹뷰 관리, 로그인/로그아웃 관리, 공유하기, PUSH알림, 인앱브라우저, Firebase Analytics, Firebase Crashlytics 기능을 변경 혹은 추가 하였습니다.
ObjectvieC로 구현 되어있던 코드를 전부 Swift 개발언어로 전환 하였습니다.

- 핵심 기능 구현 방식: 

기존 ObjectiveC로 구현된 코드를 Swift 구조에 적합하도록 리펙토링 해주었습니다.
웹뷰: 앱에서의 웹 UX를 구현해주었습니다. 웹의 액션을 인지하기 위해 trigger가 필요했고, 이를 스키마 호출로 해결하였습니다. 앱에서는 이 스키마가 오면 웹에서 필요한 동작(뒤로가기, 앞으로가기, 얼럿노출, 새창노출 등)을 구현해주었습니다.
로그인/로그아웃: 로그인시 앱에서 스키마를 받아 쿠키를 구워 저장해 세션 유지가 가능하도록 하였습니다. 로그아웃 액션이 있을시 쿠키를 제거하였습니다.
앱에서의 로그아웃인 경우 스크립트를 통해 웹에 액션을 알렸습니다.
PUSH알림: Firebase Cloud Message을 적용하였습니다. 앱에서는 푸시권한과 수신정보 전달을 처리하였으며, APNS에서 수신한 Notification이 오면 이벤트 페이지로 이동하는 기능을 앱에서 구현하였습니다.
인앱브라우저: 상품정보 페이지 부터 결제까지 진행되도록 설계되었습니다. 다른 쇼핑몰 이동과 쇼핑몰에서의 앱결제가 가능하도록 whitelist에 앱스키마 추가를 해줬습니다.
Firebase 라이브러리를 사용해 Firebase,Analytics, Crashlytics를 추가하여 효율적인 이벤트 관리와 충돌 관리가 가능하도록 하였습니다.

- 느낀점:

입사 이후 처음 많은 개발자들과의 협업을 했던 프로젝트입니다.
또한 리뉴얼 내용 뿐만 아니라 ObjectiveC에서 Swift로 통째로 언어 전환을 한 앱이기 때문에 내부테스트 혹은 전수테스트 등 많은 테스트를 거쳤던 프로젝트입니다.
기존에 유지보수를 통해 웹뷰를 관리해왔었지만, hybrid앱의 web과의 소통과 앱에서의 역할을 더욱 잘 이해할 수 있었습니다.
처음 배포했을때 메모리 문제로 예상치 못한 몇개의 충돌이 있었고, 이를 해결하며 추후 작업시에 메모리 누수 관리에 대해서 더 신경쓰게 되는 계기가 되었습니다.
Firebase 여러 제품을 연동해 보며 추후 어떤 상황에서 유용하게 적용해 볼수 있을까도 생각해 보게 되었습니다.

배너 뷰 만들기
-------------
- 적용된 기술:

- 기능의 설명:

- 구현 방식의 이점:

- 구현 방식의 부족함:

- 부족함에 대한 분석:

- 추후 유지보수에 대한 이점:

웹뷰 캡쳐 기능 추가
-------------
- 적용된 기술:

- 기능의 설명:

- 구현 방식의 이점:

- 구현 방식의 부족함:

- 부족함에 대한 분석:

- 추후 유지보수에 대한 이점:

재입고 알림 기능 추가
-------------
- 적용된 기술:

- 기능의 설명:

- 구현 방식의 이점:

- 구현 방식의 부족함:

- 부족함에 대한 분석:

- 추후 유지보수에 대한 이점:

커스텀으로 구현한 앨범, 카메라 라이브러리 생성
-------------
- 적용된 기술:

- 기능의 설명:

- 구현 방식의 이점:

- 구현 방식의 부족함:

- 부족함에 대한 분석:

- 추후 유지보수에 대한 이점:

런처 이미지 기능 개선
-------------
- 적용된 기술:

- 기능의 설명:

- 구현 방식의 이점:

- 구현 방식의 부족함:

- 부족함에 대한 분석:

- 추후 유지보수에 대한 이점:

window.open, window.close
-------------
- 적용된 기술:

- 기능의 설명:

- 구현 방식의 이점:

- 구현 방식의 부족함:

- 부족함에 대한 분석:

- 추후 유지보수에 대한 이점:


Firebase 적용 및 충돌관리
-------------
- 적용된 기술:

- 기능의 설명:

- 구현 방식의 이점:

- 구현 방식의 부족함:

- 부족함에 대한 분석:

- 추후 유지보수에 대한 이점:


메모리 누수 확인 및 관리
-------------
- 적용된 기술:

- 기능의 설명:

- 구현 방식의 이점:

- 구현 방식의 부족함:

- 부족함에 대한 분석:

- 추후 유지보수에 대한 이점:


